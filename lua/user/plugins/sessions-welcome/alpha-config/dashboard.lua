local alpha = require('alpha')
local dashboard = require('alpha.themes.dashboard')

math.randomseed(os.time())

local function pick_color()
    local colors = { 'String', 'Identifier', 'Keyword', 'Number' }
    return colors[math.random(#colors)]
end

local function footer()
    local datetime = os.date(' %d-%m-%Y   %H:%M:%S')
    local version = vim.version()
    local nvim_version_info = '   v'
        .. version.major
        .. '.'
        .. version.minor
        .. '.'
        .. version.patch

    return datetime .. '   ' .. ' ' .. nvim_version_info
end

local logo = {
    -- '',
    -- '',
    -- '',
    -- '',
    -- '      ░░                                                  ░░      ',
    -- '      ████                                              ████      ',
    -- '      ██▓▓██                                          ██  ██      ',
    -- '      ██▓▓▓▓██                                      ██    ██      ',
    -- '  ██████▓▓▓▓▓▓██████████████████████████████████████      ██████  ',
    -- '  ██░░░░░░▓▓▓▓▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░      ░░░░░░██  ',
    -- '  ██░░▒▒▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒  ▒▒▒▒▒▒        ▒▒░░██  ',
    -- '  ██░░▓▓▓▓▒▒▒▒▓▓▒▒▓▓▒▒▒▒▓▓        ▒▒▒▒    ▒▒▒▒  ▒▒  ▒▒▒▒    ░░██  ',
    -- '  ██░░▓▓▓▓▓▓▓▓▒▒▒▒▓▓▒▒▒▒      ░░░░▒▒▒▒  ░░▒▒    ▒▒▒▒        ░░██  ',
    -- '  ██░░▒▒▓▓▓▓▓▓▓▓▒▒▒▒▓▓▓▓    ▒▒▒▒░░  ▒▒▒▒▒▒    ▒▒▒▒        ▒▒░░██  ',
    -- '  ██░░░░░░▓▓▓▓▓▓░░░░░░▓▓  ░░░░      ░░      ░░░░░░      ░░░░░░██  ',
    -- '  ██░░▒▒▒▒▒▒▒▒▓▓▒▒▓▓▓▓▓▓▒▒  ▒▒      ▒▒▒▒▒▒      ▒▒  ▒▒▒▒▒▒▒▒░░██  ',
    -- '  ██░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒  ▒▒░░▒▒        ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░██  ',
    -- '  ██░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  ▒▒▒▒    ▒▒    ░░▒▒▒▒      ▒▒▒▒▒▒▒▒░░██  ',
    -- '  ██░░░░▒▒▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒      ░░▒▒▒▒      ▒▒    ▒▒▒▒▒▒▒▒░░░░██  ',
    -- '  ██████░░░░▒▒▒▒▒▒▓▓▒▒▒▒    ▒▒▒▒░░        ▒▒▒▒  ▒▒▒▒▒▒░░░░██████  ',
    -- '        ████░░░░▒▒▒▒▒▒    ░░          ▒▒░░▒▒▒▒▒▒▒▒░░░░████        ',
    -- '            ████░░░░▒▒      ▒▒    ▒▒▒▒▓▓▓▓▓▓▒▒░░░░████            ',
    -- '                ██      ▒▒▒▒▒▒▒▒░░▒▒▒▒▒▒▒▒▓▓▓▓▓▓██                ',
    -- '              ██    ████░░░░▒▒▒▒░░▒▒▒▒░░░░████▓▓▓▓██              ',
    -- '            ██    ██    ████░░░░░░░░░░████    ██▓▓▓▓██            ',
    -- '          ████████          ████░░████          ████████          ',
    -- '                                ██                                ',

    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣾⠟⠋⡡⢀⣶⡿⠷⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣾⣿⠟⢁⣴⡟⠁⣼⣿⡀⠀⠈⠻⢷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⣿⣿⠋⣴⣿⣿⡀⠀⢻⣿⣷⣄⡀⠀⠀⠙⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⠃⣾⣿⣿⣿⣧⡀⠀⠙⠻⢿⣿⣷⣶⣿⣿⣿⠷⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⢠⣴⠾⠿⠿⠿⢶⣤⣀⠀⠀⡀⠿⠟⠁⢸⣿⠿⠿⠛⠛⠿⠷⠤⠀⠀⢹⡛⢛⣩⣴⡾⠿⢛⠛⠻⢶⡄⠀⠀⠀⠀⠀⠀',
    '⠈⢿⡄⢰⣶⠀⠀⠈⠙⠻⠟⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠛⠉⠀⢀⣀⣨⣿⠆⣾⠁⠀⠀⠀⠀⠀⠀',
    '⠀⠈⣷⠈⢛⠛⠲⣦⡀⠀⠀⠀⠀⠀⢠⡄⠀⠀⠀⠀⠀⠀⠀⠐⡄⠀⠀⠀⠀⠀⣾⣿⡟⢋⠁⣸⠏⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⢸⣧⡘⢿⣶⡿⠃⠀⠀⠀⠀⢠⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡄⠀⠀⠀⠀⠈⠙⠛⠉⣠⡟⠀⡤⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⢻⣿⣶⠀⠀⠀⠀⠀⠀⠀⢸⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⡇⠀⠀⠀⠀⠀⠀⣾⣿⣿⠀⠀⣷⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⢸⣿⣿⣤⣀⣀⣀⣄⣀⣀⣨⣿⡄⠀⠀⠀⠀⠀⠀⠀⣰⣿⣧⣤⣀⣀⣀⣠⣼⣿⣿⣿⠀⠀⢸⣧⡀⠀⠀⠀⠀',
    '⠀⠀⠀⢸⣿⣿⠛⠛⠛⠉⠁⠀⠈⠉⢻⣷⠀⠀⠀⠀⠀⠀⢰⣿⠟⠉⠀⠀⠉⠛⠛⠛⢻⣿⠇⠀⠀⠈⣿⣷⡀⠀⠀⠀',
    '⠀⠀⠀⠈⣿⣿⣄⠀⣀⠀⢻⡟⢷⠶⣄⠻⠀⠀⠀⠀⠀⠀⠻⢁⡠⣶⠶⣶⠀⢰⡀⢀⣿⡟⠀⠀⠀⠀⢹⣿⣿⡄⠀⠀',
    '⠀⠀⠀⠀⠈⣿⣿⠀⠘⣆⠀⠙⠒⠢⠼⠄⠀⠀⠀⠀⠀⠀⠀⢼⠤⠼⠞⠁⢠⣾⠃⣿⣿⠀⣸⡄⠀⠀⠀⣿⣿⣿⡄⠀',
    '⠀⠀⠀⠀⠀⠹⣿⡆⠀⠈⢷⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣾⡿⠋⣰⣿⠏⠀⣿⡇⠀⠀⠀⢻⣿⣿⣿⡀',
    '⠀⠀⠀⠀⠀⠀⡙⣿⣆⠀⠀⢹⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⠋⢀⣴⣿⠋⠀⣼⡿⠀⠀⠀⠀⣾⣿⣿⣿⡇',
    '⠀⠀⠀⠀⠀⠀⣿⣮⠻⣷⣄⣸⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢹⣿⣿⣠⣾⠟⠁⢀⣼⡿⠁⠀⠀⢀⣼⣿⣿⣿⡿⠀',
    '⠀⠀⠀⠀⠀⠀⣿⣿⣷⢻⣿⣿⡇⠀⠀⢷⣤⣄⣀⣠⣤⣼⠆⠀⠀⢻⣿⣿⡟⢀⣴⣿⠟⠀⠀⠀⣠⣾⣿⣿⣿⠟⠁⠀',
    '⠀⠀⠀⠀⠀⠀⣿⣿⣿⡆⢻⣿⡇⠀⠀⠲⢿⣿⣿⣿⣿⠏⠀⠀⠀⢸⣿⡿⠀⣿⣿⠇⠀⠀⠀⣴⣿⣿⠟⠋⠁⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⢻⣿⣿⣷⠀⠙⣷⡀⠀⠀⠀⢈⣿⡁⠀⠀⠀⠀⢀⣾⠟⠀⣰⣿⣿⠀⠀⠠⣾⣿⣿⠃⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠹⣿⣿⣷⡀⠈⠻⣷⡖⠚⠉⠉⠙⠒⠶⣶⣾⠟⠁⠀⣴⣿⣿⠏⠀⠀⡀⢿⣿⠏⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠻⢿⣷⣄⠈⢷⣀⠀⠀⠀⢀⣴⠟⠁⠀⣠⣾⣿⣿⠋⠀⠀⠀⣱⠈⡟⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢳⡄⠉⠙⠛⠛⠋⠁⣀⣴⣿⣿⡿⠟⠁⠀⠀⠀⢀⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠚⠃⠀⠀⢀⣠⣴⣾⠿⠿⠛⠉⠀⠀⠀⠀⠀⣠⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⣾⣿⣿⡟⠁⠀⠀⢠⣿⡆⠀⣀⣤⣾⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⣿⣿⣿⣶⣶⣶⣿⠟⠀⣾⣿⠟⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿⣿⡿⠋⠉⠛⠛⠉⠁⠀⠀⣿⡃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣼⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⢀⠘⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⠟⠁⠀⠀⠀⠀⠀⣤⣀⡤⠀⠀⠘⣷⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣠⡌⠛⣿⠋⣠⣤⠈⠻⡇⠰⣿⣆⣽⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⣿⣿⠀⣥⠀⣿⣿⠀⢀⣧⣀⣽⣿⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠹⣿⡒⠛⠲⠿⡷⠒⠛⠉⠁⠘⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
    '⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⠃⠀⠀⠀⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀',
}

dashboard.section.header.val = logo
dashboard.section.header.opts.hl = pick_color()

dashboard.section.buttons.val = {
    -- dashboard.button('<Leader>f', '  File Explorer'),
    -- dashboard.button('<Leader>fo', '  Find File'),
    -- dashboard.button('<Leader>fw', '  Find Word'),
    dashboard.button('<C-j>', '  Recent'),
    dashboard.button('<Leader>lx', '  Lazy'),
    dashboard.button('<Leader>lX', '  Mason'),
    dashboard.button('q', '  Quit', ':qa<cr>'),
}

dashboard.section.footer.val = footer()
dashboard.section.footer.opts.hl = 'Constant'

alpha.setup(dashboard.opts)

vim.cmd([[ autocmd FileType alpha setlocal nofoldenable ]])

-- q and C-c quits if inside alpha
vim.cmd([[ autocmd FileType alpha nnoremap <buffer><silent> q :q<CR> ]])

vim.cmd([[ autocmd FileType alpha nnoremap <buffer><silent> <C-c> :q<CR> ]])
